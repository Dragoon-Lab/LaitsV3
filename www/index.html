<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>        
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Dragoon</title>
    <script type="text/javascript">
        dojoConfig = {
	    isDebug:true,
	    parseOnLoad:true,
	    async: true,
            // popup:true,
	    baseUrl: "./",
	    packages: [
		{name: "dojo", location: "dojo"},
		{name: "dijit", location: "dijit"},
		{name: "dojox", location: "dojox"},
		{name: "jsPlumb", location: "jsPlumb"},
		{name: "dragoon", location: "js"}
            ]
	};
	if(dojoConfig.isDebug){
	    document.write('<link href="css/dragoon.css" rel="stylesheet" />');
            document.write('<scr'+'ipt src="dojo/dojo.js"></scr'+'ipt>'); 
	} else {
	    document.write('<link href="release/css/dragoon.css" rel="stylesheet" />');
	    document.write('<scr'+'ipt src="release/dojo/dojo.js"></scr'+'ipt>');
	};
    </script>
    <script type="text/javascript">
        // This require should include all of the packages
        // needed by widgets defined in the html below.
        require([
	    "dojo/parser",
            "dijit/MenuBar", "dijit/PopupMenuBarItem",
            "dijit/layout/BorderContainer", "dijit/MenuItem",
	    "dijit/form/Button",
	    "dijit/Menu",
            "dijit/layout/ContentPane",
	    "dragoon/menu", // Wire up menus
	    "dragoon"
        ]);	
    </script>
	
	<script type="text/javascript">
require([
    "dojo/on","dojo/dom", "dragoon/RenderGraph",
    "dragoon/RenderTable", "dojo/ready"
], function(on, dom, Graph, Table, ready){
    ready(function(){

        // This should at least be put in main.js or in its own file.

    	// dummy parameter to be passed to graph class
    	var inputParam = 3;
    	// values of parameters
    	var paramValue = ['A','B','C'];
    	var slider = new Array();
        var button = dom.byId("graphButton");

        // instantiate graph object
        var graph = new Graph(inputParam,paramValue);
        
        // show graph when button clicked
        on(button,"click",function(){
            console.debug("button clicked");	   
            graph.show();
        }); 

    	//dummy parameter to be passed to graph class
    	inputParam = 5;
    	// values of parameters
    	paramValue = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];
		var tableHeader = ['time','Param1','Param2','Param3','Param4'];
    	slider = new Array();
        button = dom.byId("tableButton");

        // instantiate graph object
        var table = new Table(inputParam,tableHeader,paramValue);
        
        // show graph when button clicked
        on(button,"click",function(){        	
        	console.debug("table button clicked");
        	table.show();
        }); 
    });
});
	</script>
</head>

<body class="tundra">
    <div id="main" data-dojo-type="dijit/layout/BorderContainer" gutters="false">
        <div data-dojo-type="dijit/MenuBar" id="menuBar" region="top" splitter="false">
             <div data-dojo-type="dijit/form/Button" id="createNodeButton">Create Node</div>
             <div data-dojo-type="dijit/form/Button" id="graphButton">Graph</div>
             <div data-dojo-type="dijit/form/Button" id="tableButton">Table</div>
             <div data-dojo-type="dijit/form/Button" id="forumButton">Forum</div>
	     <div data-dojo-type="dijit/PopupMenuBarItem">
                 <span>Help</span>
		 <div data-dojo-type="dijit/Menu" id="menuHelp">
		    <div id="menuIntroText" data-dojo-type="dijit/MenuItem">Introduction</div>
		    <div id="menuIntroVideo" data-dojo-type="dijit/MenuItem">Intro Video</div>                     
		 </div>
             </div>
             <div data-dojo-type="dijit/form/Button" id="doneButton" style="position:absolute; top:0; right:10px; margin:0;">Done</div>
	</div> <!-- Menubar -->
        <div id="drawingPane" data-dojo-type="dijit/layout/ContentPane" region="center" >
		<!--<div id="tableGrid" data-dojo-type="dijit/layout/ContentPane" region="center" ></div>-->
	    jsPlumb goes here! 
	</div>
    </div>  <!-- main -->			
</body>
</html>